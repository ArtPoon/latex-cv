% !TEX root = tenpage.tex

\section{Manuscripts in progress}

%\vspace{-2em}
%\nociteinprep{*}
%\bibliographystyleinprep{custom}
%\bibliographyinprep{inprep}


% https://tex.stackexchange.com/questions/444095/printbibliography-by-variable-years
\makeatletter
\def\mblx@yearfrom{-1000}
\def\mblx@yearto{3000}

\newrobustcmd*{\setcheckfromtorange}[2]{%
  \def\mblx@yearfrom{#1}%
  \def\mblx@yearto{#2}%
}

\defbibcheck{fromto}{%
  \iffieldint{year}
  {\ifnumless{\thefield{year}}{\mblx@yearfrom}
    {\skipentry}
    {\ifnumgreater{\thefield{year}}{\mblx@yearto}
    {\skipentry}
    {}}}
  {\skipentry}}
\makeatother


\begin{refsection}[inprep.bib]
\nocite{*}
\printbibliography[heading=none]
\end{refsection}


%\sqrt{â€¢}\clearpage

\section{Publications (2020-2025)}


%\renewcommand{\refname}{Articles}
%\renewcommand{\bibliographyitemlabel}{{\arabic{enumiv}.}}


\cvitem{}{124 articles in total (116 original research articles, 5 review articles, 3 commentaries). 
I am listed as first or senior author in 59 articles (47.6\%).}

\cvitem{}{According to Google Scholar, my articles have been cited a total of 7,083 times with an $h$-index of 43 (\today).}


\cvitem{}{My name and the names of my past and current trainees are \uline{underlined} and \textbf{bold}.}


\begin{refsection}[publications.bib]
\nocite{*}
\addtocategory{important}{%
olabode2021revisiting,
munoz2021clustering,
  Jones:2018,
  Joy:2016a,
  Klein:2017,
  Delport:2010,
  Poon:2005a,
  Poon:2016a,
}

\setcheckfromtorange{2020}{2025}
\printbibliography[heading=subbibliography, title=Original Research Articles, notkeyword=review, notkeyword=commentary, check=fromto]

\printbibliography[heading=subbibliography, title=Review Articles, keyword=review, check=fromto]

\printbibliography[heading=subbibliography, title=Commentaries, keyword=commentary, check=fromto]
\end{refsection}

%\nocite{*}
%\bibliographystyle{custom}
%\bibliography{publications}

\begin{refsection}[book.bib]

\renewbibmacro*{booktitle}{%
  \ifboolexpr{
    test {\iffieldundef{title}}
    and
    test {\iffieldundef{subtitle}}
  }
    {}
    {\printtext{%
     \printtext[titlecase]{\usefield{\uline}{title}}%
     \setunit{\subtitlepunct}%
     \printfield[titlecase]{subtitle}}%
     \newunit}%
  \printfield{titleaddon}}

\nocite{*}
\printbibliography[heading=bibliography, title=Book chapters, check=fromto]
\end{refsection}


